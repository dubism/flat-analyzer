@tailwind base;
@tailwind components;
@tailwind utilities;

/* Range input track/thumb styling */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  cursor: pointer;
}

input[type="range"]::-webkit-slider-runnable-track {
  height: 6px;
  border-radius: 3px;
  background: #E5E7EB;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #3B82F6;
  margin-top: -5px;
}

input[type="range"]::-moz-range-track {
  height: 6px;
  border-radius: 3px;
  background: #E5E7EB;
}

input[type="range"]::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #3B82F6;
  border: none;
}

/* ============================================================
   MOBILE TOUCH OPTIMIZATIONS
   ============================================================ */

/* Eliminate 300ms tap delay â€” apply to interactive elements only,
   NOT to scrollable containers (which need touch-action: auto for
   iOS momentum / inertia scrolling). */
button, a, [role="button"], input, select, textarea, label {
  touch-action: manipulation;
}

/* Prevent iOS Safari auto-zoom on input focus.
   Safari zooms in whenever a focused input has font-size < 16px.
   This rule overrides Tailwind's text-sm/text-xs on mobile. */
@media (max-width: 768px) {
  input:not([type="range"]):not([type="color"]):not([type="file"]):not([type="checkbox"]):not([type="radio"]),
  textarea,
  select {
    font-size: 16px !important;
  }
}

/* Remove iOS/Android tap highlight flash */
button, a, [role="button"] {
  -webkit-tap-highlight-color: transparent;
}

/* Visual press feedback on touch */
button:active {
  transform: scale(0.97);
  transition: transform 60ms ease-out;
}

/* Safe-area helpers for notched devices */
.safe-top  { padding-top:    env(safe-area-inset-top,    0px); }
.safe-bottom { padding-bottom: env(safe-area-inset-bottom, 0px); }

/* Modal max-height: uses dvh (shrinks when keyboard appears) with vh fallback */
.modal-max-h-90 { max-height: 90vh; max-height: 90dvh; }
.modal-max-h-85 { max-height: 85vh; max-height: 85dvh; }

/* Larger range slider thumb on mobile for easier touch */
@media (max-width: 768px) {
  input[type="range"] {
    padding: 8px 0;
  }
  input[type="range"]::-webkit-slider-thumb {
    width: 28px;
    height: 28px;
    margin-top: -11px;
  }
  input[type="range"]::-moz-range-thumb {
    width: 28px;
    height: 28px;
  }
}

/* iOS momentum / inertia scrolling for all scrollable containers */
@media (max-width: 768px) {
  [class*="overflow-y-auto"],
  [class*="overflow-auto"],
  [style*="overflowY: auto"],
  .ios-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: contain;
  }
}

/* Hide scrollbar on mini-list sidebar */
.scrollbar-hide::-webkit-scrollbar { display: none; }
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
